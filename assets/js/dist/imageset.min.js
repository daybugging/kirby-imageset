/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(t,e,n){"use strict";function a(t,e,n,a,r,o,s,l){var u=t.getContext("2d"),d=u.getImageData(e,n,a,r);d=i(d,o,s,l),u.putImageData(d,e,n)}function i(t,e,n,a){var i,r,s,l,u,d,c,f,g,m,h,v,p,b,z,y,A,C,E,x,w,N,L,S,M,B=t.data,O=t.width,R=t.height,W=e+e+1,I=O-1,T=R-1,D=e+1,_=D*(D+1)/2,P=new o,k=P;for(s=1;s<W;s++)k=k.next=new o,s==D&&(M=k);k.next=P;var q=null,H=null;for(c=d=0,r=0;r<R;r++){for(y=A=C=E=f=g=m=h=0,v=D*(x=B[d]),p=D*(w=B[d+1]),b=D*(N=B[d+2]),z=D*(L=B[d+3]),f+=_*x,g+=_*w,m+=_*N,h+=_*L,k=P,s=0;s<D;s++)k.r=x,k.g=w,k.b=N,k.a=L,k=k.next;for(s=1;s<D;s++)l=d+((I<s?I:s)<<2),f+=(k.r=x=B[l])*(S=D-s),g+=(k.g=w=B[l+1])*S,m+=(k.b=N=B[l+2])*S,h+=(k.a=L=B[l+3])*S,y+=x,A+=w,C+=N,E+=L,k=k.next;for(q=P,H=M,i=0;i<O;i++)B[d]=f*n>>a,B[d+1]=g*n>>a,B[d+2]=m*n>>a,B[d+3]=h*n>>a,f-=v,g-=p,m-=b,h-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=c+((l=i+e+1)<I?l:I)<<2,y+=q.r=B[l],A+=q.g=B[l+1],C+=q.b=B[l+2],E+=q.a=B[l+3],f+=y,g+=A,m+=C,h+=E,q=q.next,v+=x=H.r,p+=w=H.g,b+=N=H.b,z+=L=H.a,y-=x,A-=w,C-=N,E-=L,H=H.next,d+=4;c+=O}for(i=0;i<O;i++){for(A=C=E=y=g=m=h=f=0,d=i<<2,v=D*(x=B[d]),p=D*(w=B[d+1]),b=D*(N=B[d+2]),z=D*(L=B[d+3]),f+=_*x,g+=_*w,m+=_*N,h+=_*L,k=P,s=0;s<D;s++)k.r=x,k.g=w,k.b=N,k.a=L,k=k.next;for(u=O,s=1;s<=e;s++)d=u+i<<2,f+=(k.r=x=B[d])*(S=D-s),g+=(k.g=w=B[d+1])*S,m+=(k.b=N=B[d+2])*S,h+=(k.a=L=B[d+3])*S,y+=x,A+=w,C+=N,E+=L,k=k.next,s<T&&(u+=O);for(d=i,q=P,H=M,r=0;r<R;r++)l=d<<2,B[l+3]=L=h*n>>a,L>0?(L=255/L,B[l]=(f*n>>a)*L,B[l+1]=(g*n>>a)*L,B[l+2]=(m*n>>a)*L):B[l]=B[l+1]=B[l+2]=0,f-=v,g-=p,m-=b,h-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=i+((l=r+D)<T?l:T)*O<<2,f+=y+=q.r=B[l],g+=A+=q.g=B[l+1],m+=C+=q.b=B[l+2],h+=E+=q.a=B[l+3],q=q.next,v+=x=H.r,p+=w=H.g,b+=N=H.b,z+=L=H.a,y-=x,A-=w,C-=N,E-=L,H=H.next,d+=O}return t}function r(t,e,n,a,i,r,s,l){var u,d,c,f,g,m,h,v,p,b,z,y,A,C,E,x,w,N,L,S,M,B=t.getContext("2d"),O=B.getImageData(e,n,a,i),R=O.data,W=r+r+1,I=a-1,T=i-1,D=r+1,_=D*(D+1)/2,P=new o,k=P;for(c=1;c<W;c++)k=k.next=new o,c==D&&(M=k);k.next=P;var q=null,H=null;for(h=m=0,d=0;d<i;d++){for(C=E=x=v=p=b=0,z=D*(w=R[m]),y=D*(N=R[m+1]),A=D*(L=R[m+2]),v+=_*w,p+=_*N,b+=_*L,k=P,c=0;c<D;c++)k.r=w,k.g=N,k.b=L,k=k.next;for(c=1;c<D;c++)f=m+((I<c?I:c)<<2),v+=(k.r=w=R[f])*(S=D-c),p+=(k.g=N=R[f+1])*S,b+=(k.b=L=R[f+2])*S,C+=w,E+=N,x+=L,k=k.next;for(q=P,H=M,u=0;u<a;u++)R[m]=v*s>>l,R[m+1]=p*s>>l,R[m+2]=b*s>>l,v-=z,p-=y,b-=A,z-=q.r,y-=q.g,A-=q.b,f=h+((f=u+r+1)<I?f:I)<<2,C+=q.r=R[f],E+=q.g=R[f+1],x+=q.b=R[f+2],v+=C,p+=E,b+=x,q=q.next,z+=w=H.r,y+=N=H.g,A+=L=H.b,C-=w,E-=N,x-=L,H=H.next,m+=4;h+=a}for(u=0;u<a;u++){for(E=x=C=p=b=v=0,m=u<<2,z=D*(w=R[m]),y=D*(N=R[m+1]),A=D*(L=R[m+2]),v+=_*w,p+=_*N,b+=_*L,k=P,c=0;c<D;c++)k.r=w,k.g=N,k.b=L,k=k.next;for(g=a,c=1;c<=r;c++)m=g+u<<2,v+=(k.r=w=R[m])*(S=D-c),p+=(k.g=N=R[m+1])*S,b+=(k.b=L=R[m+2])*S,C+=w,E+=N,x+=L,k=k.next,c<T&&(g+=a);for(m=u,q=P,H=M,d=0;d<i;d++)f=m<<2,R[f]=v*s>>l,R[f+1]=p*s>>l,R[f+2]=b*s>>l,v-=z,p-=y,b-=A,z-=q.r,y-=q.g,A-=q.b,f=u+((f=d+D)<T?f:T)*a<<2,v+=C+=q.r=R[f],p+=E+=q.g=R[f+1],b+=x+=q.b=R[f+2],q=q.next,z+=w=H.r,y+=N=H.g,A+=L=H.b,C-=w,E-=N,x-=L,H=H.next,m+=a}B.putImageData(O,e,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.stackBlur={canvasRGB:r,canvasRGBA:a}}(window,document),function(t,e,n,a,i){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t,e){var n=null;return function(){var a=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(a,i)},e)}}function s(t,e){t.complete&&void 0!==t.naturalWidth&&0!==t.naturalWidth?e():t.addEventListener("load",e)}function l(e,n){var a=t.devicePixelRatio||1,i=n.webkitBackingStorePixelRatio||1,r=a/i;if(a!==i){var o=e.width,s=e.height;e.width=o*r,e.height=s*r,n.scale(r,r)}return r}function u(t){var e=t.className.match(x);return!!e&&e[1]}function d(){function n(){for(var t,e,n,r=0,o=i.length;r<o;r++)i[r]&&(e=i[r],A(e,m)||(t=u(e))&&w[t]&&(C(e,m),n=w[t](e),"async"===a.placeholderRendering?y.add(n):n()))}var a=t.imagesetConfig=r({autoUpdate:!0,placeholderRendering:"async"},t.imagesetConfig||{}),i=e.getElementsByClassName(g),s=o(n);return e.addEventListener("lazybeforeunveil",function(t){var e=t.target,n=e.parentNode;if(A(e,h)){for(;!A(n,c);)n=n.parentNode;var a=function(){e.removeEventListener("load",a),z(function(){C(n,f)})};e.addEventListener("load",a)}}),a.autoUpdate?(t.MutationObserver?new t.MutationObserver(s).observe(p,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(p.addEventListener("DOMNodeInserted",s,!0),p.addEventListener("DOMAttrModified",s,!0),setInterval(s,999)),t.addEventListener("hashchange",s,!0),s()):n(),{update:n}}if(e.getElementsByClassName){var c="imageset",f="is-loaded",g=c+" -placeholder",m="is-placeholder-rendered",h=c+"-element",v=c+"-placeholder",p=e.documentElement,b=navigator.userAgent,z=t.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},y=function(){function t(t){a.push(t),n()}function e(){a.shift()(),a.length?z(e):i=!1}function n(){i||(i=!0,z(e))}var a=[],i=!1;return{add:t}}(),A=function(){return p.classList?function(t,e){return t.classList.contains(e)}:function(t,e){return!!~t.className.split(/\s+/).indexOf(e)}}(),C=function(){return p.classList?function(t,e){t.classList.add(e)}:function(t,e){var n=t.className.split(/\s+/);~n.indexOf(e)||(n.push(e),t.className=n.join(" "))}}();(function(){p.classList})();if("[object OperaMini]"===Object.prototype.toString.call(t.operamini)){t.lazySizesConfig=t.lazySizesConfig||{},t.lazySizesConfig.init=!1,C(p,"operamini");var E=function(e){var n=e.getElementsByTagName("source"),a=e.getElementsByClassName(h)[0];if(C(e,f),t.HTMLPictureElement){for(var i=0,r=n.length;i<r;i++){var o=n[i];o.hasAttribute("data-srcset")&&(o.srcset=o.getAttribute("data-srcset")),o.hasAttribute("data-src")&&(o.src=o.getAttribute("data-src"))}a.hasAttribute("data-srcset")&&(a.srcset=a.getAttribute("data-srcset")),a.hasAttribute("data-src")&&(a.src=a.getAttribute("data-src"))}else{for(var s=n.length>0?n[n.length-1]:a,l=s.getAttribute("data-srcset").split(/,\s+/);n.length>0;)n[0].parentNode.removeChild(n[0]);a.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void function(t){"loading"!=e.readyState?t():e.addEventListener("DOMContentLoaded",t)}(function(){for(var t=e.getElementsByClassName(c),n=0,a=t.length;n<a;n++)E(t[n])})}var x=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),w={};if(t.CanvasRenderingContext2D){var N=-1!==b.indexOf("Safari")&&-1===b.indexOf("Chrome");("imageRendering"in p.style||"msInterpolationMode"in p.style)&&!N||(w.mosaic=function(t){var n=e.createElement("canvas"),a=n.getContext("2d"),i=t.getElementsByClassName(v)[0],r=function(){l(n,a);var e=i.naturalWidth,r=i.naturalHeight,o=t.offsetWidth,s=t.offsetWidth/e*r+.5|0;return n.width=o,n.height=s,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n.className=i.className,function(){a.drawImage(i,0,0,o,s),i.parentNode.replaceChild(n,i)}};return function(){s(i,r)}});var L=function(t,n,a,i){var r=t.getElementsByClassName(v)[0],o=function(){var o=r.naturalWidth,s=r.naturalHeight,l=t.offsetWidth,u=t.offsetWidth/o*s+.5|0,d=e.createElement("canvas"),c=d.getContext("2d"),f=A(t,"-alpha");d.width=l,d.height=u,!f&&"mozOpaque"in d&&(d.mozOpaque=!0),d.setAttribute("aria-hidden",!0),d.className=r.className,c.drawImage(r,0,0,l,u),stackBlur[f?"canvasRGBA":"canvasRGB"](d,0,0,l,u,n,a,i),r.parentNode.replaceChild(d,r)};return function(){s(r,o)}};w.blurred=function(t){return L(t,15,512,17)},w.lqip=function(t){return L(t,7,512,15)};var S=function(t,e,a){a=!!a;var i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,s=r.width,u=r.height,d=s-1,c=u-1,f=n.round(e*(n.sqrt(3)/2)),g=f/2,m=e/2;l(t,i);var h,v,p,b,z,y,A,C,E,x,w,N,L,S,M,B,O,R=function(t,n,a,r){r=r||!1;var o=t+(r?0:f);i.beginPath(),i.moveTo(o,n+0),i.lineTo(t+(r?f:0),n+m),i.lineTo(o,n+e),i.fill(),i.closePath()},W=function(t,e){var n=e*s*4+4*t;return[o[n],o[n+1],o[n+2],o[n+3]]},I=function(t,e){return o[e*s*4+4*t+3]},T=function(t){for(var e=0,n=0,a=t.length;n<a;n++)e+=I(t[n][0],t[n][1]);return e/a},D=function(t){return"rgb("+t.slice(0,3).join(",")+")"},_=function(t){return t[3]/=255,"rgba("+t.join(",")+")"},P=function(t){return n.max(0,n.min(n.round(t),d))},k=function(t){return n.max(0,n.min(n.round(t),c))},q=n.ceil(s/f)+1,H=n.ceil(u/e)+1;if(a){for(v=0;v<H;v++)for(b=v*e,y=k(b+m),A=b-m,x=k(b),h=0;h<q;h++)p=h*f,S=h%2!=0,P(p),z=k(b),E=P(S?p+f-1:p),C=P(S?p:p+f-1),N=P(p+g),L=k(b+m),M=[[C,z],[E,L],[C,k(b+e-1)],[N,L],[N,L]],B=T(M)+.5|0,i.fillStyle=_([B,0,0,255]),i.fillRect(p,b,f,e),M=[[C,k(b-m)],[E,z],[C,k(b+m-1)],[N,z],[N,z]],B=T(M)+.5|0,i.fillStyle=_([B,0,0,255]),R(p,A,0,S);var F=i.getImageData(0,0,t.width,t.height),$=F.data,j=$.length;for(O=0;O<j;O+=4)$[O+3]=$[O];i.putImageData(F,0,0),i.globalCompositeOperation="source-atop"}for(v=0;v<H;v++)for(b=v*e,y=k(b+m),A=b-m,x=k(b),h=0;h<q;h++)p=h*f,w=P(p+g),S=h%2!=0,i.fillStyle=D(W(w,y)),i.fillRect(p,b,f,e),i.fillStyle=D(W(w,x)),R(p,A,0,S);a&&(i.globalCompositeOperation="source-over")};w.triangles=function(t){var a=t.getElementsByClassName(v)[0],i=function(){var i=a.naturalWidth,r=a.naturalHeight,o=t.offsetWidth,s=n.round(t.offsetWidth/i*r),l=e.createElement("canvas"),u=l.getContext("2d"),d=A(t,"-alpha");l.width=o,l.height=s,!d&&"mozOpaque"in l&&(l.mozOpaque=!0),l.setAttribute("aria-hidden",!0),l.className=a.className,u.drawImage(a,0,0,o,s),S(l,40,d),a.parentNode.replaceChild(l,a)};return function(){s(a,i)}}}var M=new d;t.imageset=M}}(window,document,Math,Date),function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var e,n=document.createElement("source"),a=function(t){var e,a,i=t.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(e=n.cloneNode(),i.insertBefore(e,i.firstElementChild),setTimeout(function(){i.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,a=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=a}))},i=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)a(e[t])},r=function(){clearTimeout(e),e=setTimeout(i,99)},o=t.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){r(),o&&o.addListener&&o.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),r}())}(window),function(t){"use strict";var e,n,a,i;t.addEventListener&&(e=t.lazySizes&&lazySizes.cfg||t.lazySizesConfig||{},n=e.lazyClass||"lazyload",a=function(){var e,a;if("string"==typeof n&&(n=document.getElementsByClassName(n)),t.lazySizes)for(e=0,a=n.length;e<a;e++)lazySizes.loader.unveil(n[e])},addEventListener("beforeprint",a,!1),!("onbeforeprint"in t)&&t.matchMedia&&(i=matchMedia("print"))&&i.addListener&&i.addListener(function(){i.matches&&a()}))}(window),function(t,e){var n=function(t,e){"use strict";if(e.getElementsByClassName){var n,a=e.documentElement,i=t.Date,r=t.HTMLPictureElement,o=t.addEventListener,s=t.setTimeout,l=t.requestAnimationFrame||s,u=t.requestIdleCallback,d=/^picture$/i,c=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},h=function(t,e){m(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},v=function(t,e){var n;(n=m(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},p=function(t,e,n){var a=n?"addEventListener":"removeEventListener";n&&p(t,e),c.forEach(function(n){t[a](n,e)})},b=function(t,n,a,i,r){var o=e.createEvent("CustomEvent");return o.initCustomEvent(n,!i,!r,a||{}),t.dispatchEvent(o),o},z=function(e,a){var i;!r&&(i=t.picturefill||n.pf)?i({reevaluate:!0,elements:[e]}):a&&a.src&&(e.src=a.src)},y=function(t,e){return(getComputedStyle(t,null)||{})[e]},A=function(t,e,a){for(a=a||t.offsetWidth;a<n.minSize&&e&&!t._lazysizesWidth;)a=e.offsetWidth,e=e.parentNode;return a},C=function(){var t,n,a=[],i=function(){var e;for(t=!0,n=!1;a.length;)e=a.shift(),e[0].apply(e[1],e[2]);t=!1},r=function(r){t?r.apply(this,arguments):(a.push([r,this,arguments]),n||(n=!0,(e.hidden?s:l)(i)))};return r._lsFlush=i,r}(),E=function(t,e){return e?function(){C(t)}:function(){var e=this,n=arguments;C(function(){t.apply(e,n)})}},x=function(t){var e,n=0,a=666,r=function(){e=!1,n=i.now(),t()},o=u?function(){u(r,{timeout:a}),666!==a&&(a=666)}:E(function(){s(r)},!0);return function(t){var r;(t=!0===t)&&(a=44),e||(e=!0,r=125-(i.now()-n),r<0&&(r=0),t||r<9&&u?o():s(o,r))}},w=function(t){var e,n,a=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?s(r,99-t):(u||a)(a)};return function(){n=i.now(),e||(e=s(r,99))}},N=function(){var r,l,u,c,f,A,N,S,M,B,O,R,W,I,T,D=/^img$/i,_=/^iframe$/i,P="onscroll"in t&&!/glebot/.test(navigator.userAgent),k=0,q=0,H=-1,F=function(t){q--,t&&t.target&&p(t.target,F),(!t||q<0||!t.target)&&(q=0)},$=function(t,n){var i,r=t,o="hidden"==y(e.body,"visibility")||"hidden"!=y(t,"visibility");for(M-=n,R+=n,B-=n,O+=n;o&&(r=r.offsetParent)&&r!=e.body&&r!=a;)(o=(y(r,"opacity")||1)>0)&&"visible"!=y(r,"overflow")&&(i=r.getBoundingClientRect(),o=O>i.left&&B<i.right&&R>i.top-1&&M<i.bottom+1);return o},j=function(){var t,i,o,s,d,c,g,m,h;if((f=n.loadMode)&&q<8&&(t=r.length)){i=0,H++,null==I&&("expand"in n||(n.expand=a.clientHeight>500&&a.clientWidth>500?500:370),W=n.expand,I=W*n.expFactor),k<I&&q<1&&H>2&&f>2&&!e.hidden?(k=I,H=0):k=f>1&&H>1&&q<6?W:0;for(;i<t;i++)if(r[i]&&!r[i]._lazyRace)if(P)if((m=r[i].getAttribute("data-expand"))&&(c=1*m)||(c=k),h!==c&&(N=innerWidth+c*T,S=innerHeight+c,g=-1*c,h=c),o=r[i].getBoundingClientRect(),(R=o.bottom)>=g&&(M=o.top)<=S&&(O=o.right)>=g*T&&(B=o.left)<=N&&(R||O||B||M)&&(u&&q<3&&!m&&(f<3||H<4)||$(r[i],c))){if(Y(r[i]),d=!0,q>9)break}else!d&&u&&!s&&q<4&&H<4&&f>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!m&&(R||O||B||M||"auto"!=r[i].getAttribute(n.sizesAttr)))&&(s=l[0]||r[i]);else Y(r[i]);s&&!d&&Y(s)}},G=x(j),U=function(t){h(t.target,n.loadedClass),v(t.target,n.loadingClass),p(t.target,Q)},K=E(U),Q=function(t){K({target:t.target})},J=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},V=function(t){var e,a,i=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i),e&&(a=t.parentNode,a.insertBefore(t.cloneNode(),t),a.removeChild(t))},X=E(function(t,e,a,i,r){var o,l,u,f,m,y;(m=b(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(a?h(t,n.autosizesClass):t.setAttribute("sizes",i)),l=t.getAttribute(n.srcsetAttr),o=t.getAttribute(n.srcAttr),r&&(u=t.parentNode,f=u&&d.test(u.nodeName||"")),y=e.firesLoad||"src"in t&&(l||o||f),m={target:t},y&&(p(t,F,!0),clearTimeout(c),c=s(F,2500),h(t,n.loadingClass),p(t,Q,!0)),f&&g.call(u.getElementsByTagName("source"),V),l?t.setAttribute("srcset",l):o&&!f&&(_.test(t.nodeName)?J(t,o):t.src=o),(l||f)&&z(t,{src:o})),C(function(){t._lazyRace&&delete t._lazyRace,v(t,n.lazyClass),y&&!t.complete||(y?F(m):q--,U(m))})}),Y=function(t){var e,a=D.test(t.nodeName),i=a&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==i;(!r&&u||!a||!t.src&&!t.srcset||t.complete||m(t,n.errorClass))&&(e=b(t,"lazyunveilread").detail,r&&L.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,X(t,e,r,i,a))},Z=function(){if(!u){if(i.now()-A<999)return void s(Z,999);var t=w(function(){n.loadMode=3,G()});u=!0,n.loadMode=3,G(),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){A=i.now(),r=e.getElementsByClassName(n.lazyClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),T=n.hFac,o("scroll",G,!0),o("resize",G,!0),t.MutationObserver?new MutationObserver(G).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",G,!0),a.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),o("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,G,!0)}),/d$|^c/.test(e.readyState)?Z():(o("load",Z),e.addEventListener("DOMContentLoaded",G),s(Z,2e4)),r.length?j():G()},checkElems:G,unveil:Y}}(),L=function(){var t,a=E(function(t,e,n,a){var i,r,o;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),d.test(e.nodeName||""))for(i=e.getElementsByTagName("source"),r=0,o=i.length;r<o;r++)i[r].setAttribute("sizes",a);n.detail.dataAttr||z(t,n.detail)}),i=function(t,e,n){var i,r=t.parentNode;r&&(n=A(t,r,n),i=b(t,"lazybeforesizes",{width:n,dataAttr:!!e}),i.defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&a(t,r,i,n))},r=function(){var e,n=t.length;if(n)for(e=0;e<n;e++)i(t[e])},s=w(r);return{_:function(){t=e.getElementsByClassName(n.autosizesClass),o("resize",s)},checkElems:s,updateElem:i}}(),S=function(){S.i||(S.i=!0,L._(),N._())};return function(){var e,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=t.lazySizesConfig||t.lazysizesConfig||{};for(e in a)e in n||(n[e]=a[e]);t.lazySizesConfig=n,s(function(){n.init&&S()})}(),{cfg:n,autoSizer:L,loader:N,init:S,uP:z,aC:h,rC:v,hC:m,fire:b,gW:A,rAF:C}}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);