/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(t,e,n){"use strict";function a(t,e,n,a,i,o,s,l){var c=t.getContext("2d"),u=c.getImageData(e,n,a,i);u=r(u,o,s,l),c.putImageData(u,e,n)}function r(t,e,n,a){var r,i,s,l,c,u,d,f,g,h,m,v,p,b,y,z,C,E,A,x,w,N,L,S,M,B=t.data,O=t.width,W=t.height,I=e+e+1,R=O-1,D=W-1,T=e+1,_=T*(T+1)/2,k=new o,P=k;for(s=1;s<I;s++)P=P.next=new o,s==T&&(M=P);P.next=k;var q=null,F=null;for(d=u=0,i=0;i<W;i++){for(z=C=E=A=f=g=h=m=0,v=T*(x=B[u]),p=T*(w=B[u+1]),b=T*(N=B[u+2]),y=T*(L=B[u+3]),f+=_*x,g+=_*w,h+=_*N,m+=_*L,P=k,s=0;s<T;s++)P.r=x,P.g=w,P.b=N,P.a=L,P=P.next;for(s=1;s<T;s++)l=u+((R<s?R:s)<<2),f+=(P.r=x=B[l])*(S=T-s),g+=(P.g=w=B[l+1])*S,h+=(P.b=N=B[l+2])*S,m+=(P.a=L=B[l+3])*S,z+=x,C+=w,E+=N,A+=L,P=P.next;for(q=k,F=M,r=0;r<O;r++)B[u]=f*n>>a,B[u+1]=g*n>>a,B[u+2]=h*n>>a,B[u+3]=m*n>>a,f-=v,g-=p,h-=b,m-=y,v-=q.r,p-=q.g,b-=q.b,y-=q.a,l=d+((l=r+e+1)<R?l:R)<<2,z+=q.r=B[l],C+=q.g=B[l+1],E+=q.b=B[l+2],A+=q.a=B[l+3],f+=z,g+=C,h+=E,m+=A,q=q.next,v+=x=F.r,p+=w=F.g,b+=N=F.b,y+=L=F.a,z-=x,C-=w,E-=N,A-=L,F=F.next,u+=4;d+=O}for(r=0;r<O;r++){for(C=E=A=z=g=h=m=f=0,u=r<<2,v=T*(x=B[u]),p=T*(w=B[u+1]),b=T*(N=B[u+2]),y=T*(L=B[u+3]),f+=_*x,g+=_*w,h+=_*N,m+=_*L,P=k,s=0;s<T;s++)P.r=x,P.g=w,P.b=N,P.a=L,P=P.next;for(c=O,s=1;s<=e;s++)u=c+r<<2,f+=(P.r=x=B[u])*(S=T-s),g+=(P.g=w=B[u+1])*S,h+=(P.b=N=B[u+2])*S,m+=(P.a=L=B[u+3])*S,z+=x,C+=w,E+=N,A+=L,P=P.next,s<D&&(c+=O);for(u=r,q=k,F=M,i=0;i<W;i++)l=u<<2,B[l+3]=L=m*n>>a,L>0?(L=255/L,B[l]=(f*n>>a)*L,B[l+1]=(g*n>>a)*L,B[l+2]=(h*n>>a)*L):B[l]=B[l+1]=B[l+2]=0,f-=v,g-=p,h-=b,m-=y,v-=q.r,p-=q.g,b-=q.b,y-=q.a,l=r+((l=i+T)<D?l:D)*O<<2,f+=z+=q.r=B[l],g+=C+=q.g=B[l+1],h+=E+=q.b=B[l+2],m+=A+=q.a=B[l+3],q=q.next,v+=x=F.r,p+=w=F.g,b+=N=F.b,y+=L=F.a,z-=x,C-=w,E-=N,A-=L,F=F.next,u+=O}return t}function i(t,e,n,a,r,i,s,l){var c,u,d,f,g,h,m,v,p,b,y,z,C,E,A,x,w,N,L,S,M,B=t.getContext("2d"),O=B.getImageData(e,n,a,r),W=O.data,I=i+i+1,R=a-1,D=r-1,T=i+1,_=T*(T+1)/2,k=new o,P=k;for(d=1;d<I;d++)P=P.next=new o,d==T&&(M=P);P.next=k;var q=null,F=null;for(m=h=0,u=0;u<r;u++){for(E=A=x=v=p=b=0,y=T*(w=W[h]),z=T*(N=W[h+1]),C=T*(L=W[h+2]),v+=_*w,p+=_*N,b+=_*L,P=k,d=0;d<T;d++)P.r=w,P.g=N,P.b=L,P=P.next;for(d=1;d<T;d++)f=h+((R<d?R:d)<<2),v+=(P.r=w=W[f])*(S=T-d),p+=(P.g=N=W[f+1])*S,b+=(P.b=L=W[f+2])*S,E+=w,A+=N,x+=L,P=P.next;for(q=k,F=M,c=0;c<a;c++)W[h]=v*s>>l,W[h+1]=p*s>>l,W[h+2]=b*s>>l,v-=y,p-=z,b-=C,y-=q.r,z-=q.g,C-=q.b,f=m+((f=c+i+1)<R?f:R)<<2,E+=q.r=W[f],A+=q.g=W[f+1],x+=q.b=W[f+2],v+=E,p+=A,b+=x,q=q.next,y+=w=F.r,z+=N=F.g,C+=L=F.b,E-=w,A-=N,x-=L,F=F.next,h+=4;m+=a}for(c=0;c<a;c++){for(A=x=E=p=b=v=0,h=c<<2,y=T*(w=W[h]),z=T*(N=W[h+1]),C=T*(L=W[h+2]),v+=_*w,p+=_*N,b+=_*L,P=k,d=0;d<T;d++)P.r=w,P.g=N,P.b=L,P=P.next;for(g=a,d=1;d<=i;d++)h=g+c<<2,v+=(P.r=w=W[h])*(S=T-d),p+=(P.g=N=W[h+1])*S,b+=(P.b=L=W[h+2])*S,E+=w,A+=N,x+=L,P=P.next,d<D&&(g+=a);for(h=c,q=k,F=M,u=0;u<r;u++)f=h<<2,W[f]=v*s>>l,W[f+1]=p*s>>l,W[f+2]=b*s>>l,v-=y,p-=z,b-=C,y-=q.r,z-=q.g,C-=q.b,f=c+((f=u+T)<D?f:D)*a<<2,v+=E+=q.r=W[f],p+=A+=q.g=W[f+1],b+=x+=q.b=W[f+2],q=q.next,y+=w=F.r,z+=N=F.g,C+=L=F.b,E-=w,A-=N,x-=L,F=F.next,h+=a}B.putImageData(O,e,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.stackBlur={canvasRGB:i,canvasRGBA:a}}(window,document),function(t,e,n,a,r){"use strict";function i(t){"loading"!=e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t,e){var n=null;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(a,r)},e)}}function l(t,e,n){if(n=n||!1,t.complete&&void 0!==t.naturalWidth&&0!==t.naturalWidth)console.log("instant success",t),e();else{var a=function(){this.removeEventListener("load",a),console.log("death by callback",t),e()};if(t.addEventListener("load",a),n){var r=new Image;r.addEventListener("error",function(){n()}),r.src=t.src}}}function c(e,n){var a=t.devicePixelRatio||1,r=n.webkitBackingStorePixelRatio||1,i=a/r;if(a!==r){var o=e.width,s=e.height;e.width=o*i,e.height=s*i,n.scale(i,i)}return i}function u(t){var e=t.className.match(M);return!!e&&e[1]}function d(t){L(t,b)}function f(){function n(){for(var t,e,n,i=0,o=r.length;i<o;i++)r[i]&&(e=r[i],N(e,p)||(t=u(e))&&B[t]&&(n=B[t](e),"async"===a.placeholderRendering?w.add(n):n()))}var a=t.imagesetConfig=o({autoUpdate:!0,placeholderRendering:"async"},t.imagesetConfig||{}),r=e.getElementsByClassName(v),l=s(n);return e.addEventListener("lazybeforeunveil",function(t){var n=t.target,a=n.parentNode;if(N(n,y)){for(;!N(a,g);)a=a.parentNode;var r=function(){n.removeEventListener("load",r),x(function(){L(a,h)})},i=function(){n.removeEventListener("error",i),x(function(){var t=e.createElement("span");L(t,C),n.hasAttribute("alt")&&""!==n.alt&&(t.setAttribute("aria-hidden",!0),t.appendChild(e.createTextNode(n.alt))),a.appendChild(t),x(function(){L(a,m)})})};n.addEventListener("load",r),n.addEventListener("error",i)}}),a.autoUpdate?(t.MutationObserver?new t.MutationObserver(l).observe(E,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(E.addEventListener("DOMNodeInserted",l,!0),E.addEventListener("DOMAttrModified",l,!0),setInterval(l,999)),t.addEventListener("hashchange",l,!0),l()):i(n),{update:n}}if(e.getElementsByClassName){var g="imageset",h="is-loaded",m="has-error",v=g+" -placeholder",p="is-placeholder-rendered",b="has-placeholder-error",y=g+"-element",z=g+"-placeholder",C="imageset-error",E=e.documentElement,A=navigator.userAgent,x=t.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},w=function(){function t(t){a.push(t),n()}function e(){a.shift()(),a.length?x(e):r=!1}function n(){r||(r=!0,x(e))}var a=[],r=!1;return{add:t}}(),N=function(){return E.classList?function(t,e){return t.classList.contains(e)}:function(t,e){return!!~t.className.split(/\s+/).indexOf(e)}}(),L=function(){return E.classList?function(t,e){t.classList.add(e)}:function(t,e){var n=t.className.split(/\s+/);~n.indexOf(e)||(n.push(e),t.className=n.join(" "))}}();(function(){E.classList})();if("[object OperaMini]"===Object.prototype.toString.call(t.operamini)){t.lazySizesConfig=t.lazySizesConfig||{},t.lazySizesConfig.init=!1,L(E,"operamini");var S=function(e){var n=e.getElementsByTagName("source"),a=e.getElementsByClassName(y)[0];if(L(e,h),t.HTMLPictureElement){for(var r=0,i=n.length;r<i;r++){var o=n[r];o.hasAttribute("data-srcset")&&(o.srcset=o.getAttribute("data-srcset")),o.hasAttribute("data-src")&&(o.src=o.getAttribute("data-src"))}a.hasAttribute("data-srcset")&&(a.srcset=a.getAttribute("data-srcset")),a.hasAttribute("data-src")&&(a.src=a.getAttribute("data-src"))}else{for(var s=n.length>0?n[n.length-1]:a,l=s.getAttribute("data-srcset").split(/,\s+/);n.length>0;)n[0].parentNode.removeChild(n[0]);a.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void i(function(){for(var t=e.getElementsByClassName(g),n=0,a=t.length;n<a;n++)S(t[n])})}var M=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),B={};if(t.CanvasRenderingContext2D){var O=-1!==A.indexOf("Safari")&&-1===A.indexOf("Chrome");("imageRendering"in E.style||"msInterpolationMode"in E.style)&&!O||(B.mosaic=function(t){var n=e.createElement("canvas"),a=n.getContext("2d"),r=t.getElementsByClassName(z)[0],i=function(){c(n,a);var e=r.naturalWidth,i=r.naturalHeight,o=t.offsetWidth,s=t.offsetWidth/e*i+.5|0;n.width=o,n.height=s,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n.className=r.className,a.drawImage(r,0,0,o,s),r.parentNode.replaceChild(n,r),L(t,p)};return function(){l(r,i,function(){d(t)})}});var W=function(t,n,a,r){var i=t.getElementsByClassName(z)[0],o=function(){var o=i.naturalWidth,s=i.naturalHeight,l=t.offsetWidth,c=t.offsetWidth/o*s+.5|0,u=e.createElement("canvas"),d=u.getContext("2d"),f=N(t,"-alpha");u.width=l,u.height=c,!f&&"mozOpaque"in u&&(u.mozOpaque=!0),u.setAttribute("aria-hidden",!0),u.className=i.className,d.drawImage(i,0,0,l,c),stackBlur[f?"canvasRGBA":"canvasRGB"](u,0,0,l,c,n,a,r),i.parentNode.replaceChild(u,i),L(t,p)};return function(){l(i,o,function(){d(t)})}};B.blurred=function(t){return W(t,15,512,17)},B.lqip=function(t){return W(t,7,512,15)};var I=function(t,e,a){a=!!a;var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,s=i.width,l=i.height,u=s-1,d=l-1,f=n.round(e*(n.sqrt(3)/2)),g=f/2,h=e/2;c(t,r);var m,v,p,b,y,z,C,E,A,x,w,N,L,S,M,B,O,W=function(t,n,a,i){i=i||!1;var o=t+(i?0:f);r.beginPath(),r.moveTo(o,n+0),r.lineTo(t+(i?f:0),n+h),r.lineTo(o,n+e),r.fill(),r.closePath()},I=function(t,e){var n=e*s*4+4*t;return[o[n],o[n+1],o[n+2],o[n+3]]},R=function(t,e){return o[e*s*4+4*t+3]},D=function(t){for(var e=0,n=0,a=t.length;n<a;n++)e+=R(t[n][0],t[n][1]);return e/a},T=function(t){return"rgb("+t.slice(0,3).join(",")+")"},_=function(t){return t[3]/=255,"rgba("+t.join(",")+")"},k=function(t){return n.max(0,n.min(n.round(t),u))},P=function(t){return n.max(0,n.min(n.round(t),d))},q=n.ceil(s/f)+1,F=n.ceil(l/e)+1;if(a){for(v=0;v<F;v++)for(b=v*e,z=P(b+h),C=b-h,x=P(b),m=0;m<q;m++)p=m*f,S=m%2!=0,k(p),y=P(b),A=k(S?p+f-1:p),E=k(S?p:p+f-1),N=k(p+g),L=P(b+h),M=[[E,y],[A,L],[E,P(b+e-1)],[N,L],[N,L]],B=D(M)+.5|0,r.fillStyle=_([B,0,0,255]),r.fillRect(p,b,f,e),M=[[E,P(b-h)],[A,y],[E,P(b+h-1)],[N,y],[N,y]],B=D(M)+.5|0,r.fillStyle=_([B,0,0,255]),W(p,C,0,S);var H=r.getImageData(0,0,t.width,t.height),j=H.data,$=j.length;for(O=0;O<$;O+=4)j[O+3]=j[O];r.putImageData(H,0,0),r.globalCompositeOperation="source-atop"}for(v=0;v<F;v++)for(b=v*e,z=P(b+h),C=b-h,x=P(b),m=0;m<q;m++)p=m*f,w=k(p+g),S=m%2!=0,r.fillStyle=T(I(w,z)),r.fillRect(p,b,f,e),r.fillStyle=T(I(w,x)),W(p,C,0,S);a&&(r.globalCompositeOperation="source-over")};B.triangles=function(t){var a=t.getElementsByClassName(z)[0],r=function(){var r=a.naturalWidth,i=a.naturalHeight,o=t.offsetWidth,s=n.round(t.offsetWidth/r*i),l=e.createElement("canvas"),c=l.getContext("2d"),u=N(t,"-alpha");l.width=o,l.height=s,!u&&"mozOpaque"in l&&(l.mozOpaque=!0),l.setAttribute("aria-hidden",!0),l.className=a.className,c.drawImage(a,0,0,o,s),I(l,40,u),a.parentNode.replaceChild(l,a),L(t,p),console.log("placeholder rendered")};return function(){l(a,r,function(){d(t)})}}}var R=new f;t.imageset=R}}(window,document,Math,Date),function(t){"use strict";var e,n,a,r;t.addEventListener&&(e=t.lazySizes&&lazySizes.cfg||t.lazySizesConfig||{},n=e.lazyClass||"lazyload",a=function(){var e,a;if("string"==typeof n&&(n=document.getElementsByClassName(n)),t.lazySizes)for(e=0,a=n.length;e<a;e++)lazySizes.loader.unveil(n[e])},addEventListener("beforeprint",a,!1),!("onbeforeprint"in t)&&t.matchMedia&&(r=matchMedia("print"))&&r.addListener&&r.addListener(function(){r.matches&&a()}))}(window),function(t,e){var n=function(t,e){"use strict";if(e.getElementsByClassName){var n,a=e.documentElement,r=t.Date,i=t.HTMLPictureElement,o=t.addEventListener,s=t.setTimeout,l=t.requestAnimationFrame||s,c=t.requestIdleCallback,u=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,h=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},m=function(t,e){h(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},v=function(t,e){var n;(n=h(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},p=function(t,e,n){var a=n?"addEventListener":"removeEventListener";n&&p(t,e),d.forEach(function(n){t[a](n,e)})},b=function(t,n,a,r,i){var o=e.createEvent("CustomEvent");return o.initCustomEvent(n,!r,!i,a||{}),t.dispatchEvent(o),o},y=function(e,a){var r;!i&&(r=t.picturefill||n.pf)?r({reevaluate:!0,elements:[e]}):a&&a.src&&(e.src=a.src)},z=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,a){for(a=a||t.offsetWidth;a<n.minSize&&e&&!t._lazysizesWidth;)a=e.offsetWidth,e=e.parentNode;return a},E=function(){var t,n,a=[],r=function(){var e;for(t=!0,n=!1;a.length;)e=a.shift(),e[0].apply(e[1],e[2]);t=!1},i=function(i){t?i.apply(this,arguments):(a.push([i,this,arguments]),n||(n=!0,(e.hidden?s:l)(r)))};return i._lsFlush=r,i}(),A=function(t,e){return e?function(){E(t)}:function(){var e=this,n=arguments;E(function(){t.apply(e,n)})}},x=function(t){var e,n=0,a=666,i=function(){e=!1,n=r.now(),t()},o=c?function(){c(i,{timeout:a}),666!==a&&(a=666)}:A(function(){s(i)},!0);return function(t){var i;(t=!0===t)&&(a=44),e||(e=!0,i=125-(r.now()-n),i<0&&(i=0),t||i<9&&c?o():s(o,i))}},w=function(t){var e,n,a=function(){e=null,t()},i=function(){var t=r.now()-n;t<99?s(i,99-t):(c||a)(a)};return function(){n=r.now(),e||(e=s(i,99))}},N=function(){var i,l,c,d,f,C,N,S,M,B,O,W,I,R,D,T=/^img$/i,_=/^iframe$/i,k="onscroll"in t&&!/glebot/.test(navigator.userAgent),P=0,q=0,F=-1,H=function(t){q--,t&&t.target&&p(t.target,H),(!t||q<0||!t.target)&&(q=0)},j=function(t,n){var r,i=t,o="hidden"==z(e.body,"visibility")||"hidden"!=z(t,"visibility");for(M-=n,W+=n,B-=n,O+=n;o&&(i=i.offsetParent)&&i!=e.body&&i!=a;)(o=(z(i,"opacity")||1)>0)&&"visible"!=z(i,"overflow")&&(r=i.getBoundingClientRect(),o=O>r.left&&B<r.right&&W>r.top-1&&M<r.bottom+1);return o},$=function(){var t,r,o,s,u,d,g,h,m;if((f=n.loadMode)&&q<8&&(t=i.length)){r=0,F++,null==R&&("expand"in n||(n.expand=a.clientHeight>500&&a.clientWidth>500?500:370),I=n.expand,R=I*n.expFactor),P<R&&q<1&&F>2&&f>2&&!e.hidden?(P=R,F=0):P=f>1&&F>1&&q<6?I:0;for(;r<t;r++)if(i[r]&&!i[r]._lazyRace)if(k)if((h=i[r].getAttribute("data-expand"))&&(d=1*h)||(d=P),m!==d&&(N=innerWidth+d*D,S=innerHeight+d,g=-1*d,m=d),o=i[r].getBoundingClientRect(),(W=o.bottom)>=g&&(M=o.top)<=S&&(O=o.right)>=g*D&&(B=o.left)<=N&&(W||O||B||M)&&(c&&q<3&&!h&&(f<3||F<4)||j(i[r],d))){if(Y(i[r]),u=!0,q>9)break}else!u&&c&&!s&&q<4&&F<4&&f>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!h&&(W||O||B||M||"auto"!=i[r].getAttribute(n.sizesAttr)))&&(s=l[0]||i[r]);else Y(i[r]);s&&!u&&Y(s)}},G=x($),U=function(t){m(t.target,n.loadedClass),v(t.target,n.loadingClass),p(t.target,K)},J=A(U),K=function(t){J({target:t.target})},Q=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},V=function(t){var e,a,r=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),r&&t.setAttribute("srcset",r),e&&(a=t.parentNode,a.insertBefore(t.cloneNode(),t),a.removeChild(t))},X=A(function(t,e,a,r,i){var o,l,c,f,h,z;(h=b(t,"lazybeforeunveil",e)).defaultPrevented||(r&&(a?m(t,n.autosizesClass):t.setAttribute("sizes",r)),l=t.getAttribute(n.srcsetAttr),o=t.getAttribute(n.srcAttr),i&&(c=t.parentNode,f=c&&u.test(c.nodeName||"")),z=e.firesLoad||"src"in t&&(l||o||f),h={target:t},z&&(p(t,H,!0),clearTimeout(d),d=s(H,2500),m(t,n.loadingClass),p(t,K,!0)),f&&g.call(c.getElementsByTagName("source"),V),l?t.setAttribute("srcset",l):o&&!f&&(_.test(t.nodeName)?Q(t,o):t.src=o),(l||f)&&y(t,{src:o})),E(function(){t._lazyRace&&delete t._lazyRace,v(t,n.lazyClass),z&&!t.complete||(z?H(h):q--,U(h))})}),Y=function(t){var e,a=T.test(t.nodeName),r=a&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),i="auto"==r;(!i&&c||!a||!t.src&&!t.srcset||t.complete||h(t,n.errorClass))&&(e=b(t,"lazyunveilread").detail,i&&L.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,X(t,e,i,r,a))},Z=function(){if(!c){if(r.now()-C<999)return void s(Z,999);var t=w(function(){n.loadMode=3,G()});c=!0,n.loadMode=3,G(),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){C=r.now(),i=e.getElementsByClassName(n.lazyClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),D=n.hFac,o("scroll",G,!0),o("resize",G,!0),t.MutationObserver?new MutationObserver(G).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",G,!0),a.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),o("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,G,!0)}),/d$|^c/.test(e.readyState)?Z():(o("load",Z),e.addEventListener("DOMContentLoaded",G),s(Z,2e4)),i.length?$():G()},checkElems:G,unveil:Y}}(),L=function(){var t,a=A(function(t,e,n,a){var r,i,o;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),u.test(e.nodeName||""))for(r=e.getElementsByTagName("source"),i=0,o=r.length;i<o;i++)r[i].setAttribute("sizes",a);n.detail.dataAttr||y(t,n.detail)}),r=function(t,e,n){var r,i=t.parentNode;i&&(n=C(t,i,n),r=b(t,"lazybeforesizes",{width:n,dataAttr:!!e}),r.defaultPrevented||(n=r.detail.width)&&n!==t._lazysizesWidth&&a(t,i,r,n))},i=function(){var e,n=t.length;if(n)for(e=0;e<n;e++)r(t[e])},s=w(i);return{_:function(){t=e.getElementsByClassName(n.autosizesClass),o("resize",s)},checkElems:s,updateElem:r}}(),S=function(){S.i||(S.i=!0,L._(),N._())};return function(){var e,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=t.lazySizesConfig||t.lazysizesConfig||{};for(e in a)e in n||(n[e]=a[e]);t.lazySizesConfig=n,s(function(){n.init&&S()})}(),{cfg:n,autoSizer:L,loader:N,init:S,uP:y,aC:m,rC:v,hC:h,fire:b,gW:C,rAF:E}}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);