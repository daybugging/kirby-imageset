/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(t,e,n){"use strict";function a(t,e,n,a,i,o,s,l){var u=t.getContext("2d"),d=u.getImageData(e,n,a,i);d=r(d,o,s,l),u.putImageData(d,e,n)}function r(t,e,n,a){var r,i,s,l,u,d,c,f,g,m,h,v,p,b,y,z,C,E,A,x,w,N,L,M,S,B=t.data,O=t.width,W=t.height,I=e+e+1,R=O-1,D=W-1,_=e+1,T=_*(_+1)/2,k=new o,P=k;for(s=1;s<I;s++)P=P.next=new o,s==_&&(S=P);P.next=k;var q=null,F=null;for(c=d=0,i=0;i<W;i++){for(z=C=E=A=f=g=m=h=0,v=_*(x=B[d]),p=_*(w=B[d+1]),b=_*(N=B[d+2]),y=_*(L=B[d+3]),f+=T*x,g+=T*w,m+=T*N,h+=T*L,P=k,s=0;s<_;s++)P.r=x,P.g=w,P.b=N,P.a=L,P=P.next;for(s=1;s<_;s++)l=d+((R<s?R:s)<<2),f+=(P.r=x=B[l])*(M=_-s),g+=(P.g=w=B[l+1])*M,m+=(P.b=N=B[l+2])*M,h+=(P.a=L=B[l+3])*M,z+=x,C+=w,E+=N,A+=L,P=P.next;for(q=k,F=S,r=0;r<O;r++)B[d]=f*n>>a,B[d+1]=g*n>>a,B[d+2]=m*n>>a,B[d+3]=h*n>>a,f-=v,g-=p,m-=b,h-=y,v-=q.r,p-=q.g,b-=q.b,y-=q.a,l=c+((l=r+e+1)<R?l:R)<<2,z+=q.r=B[l],C+=q.g=B[l+1],E+=q.b=B[l+2],A+=q.a=B[l+3],f+=z,g+=C,m+=E,h+=A,q=q.next,v+=x=F.r,p+=w=F.g,b+=N=F.b,y+=L=F.a,z-=x,C-=w,E-=N,A-=L,F=F.next,d+=4;c+=O}for(r=0;r<O;r++){for(C=E=A=z=g=m=h=f=0,d=r<<2,v=_*(x=B[d]),p=_*(w=B[d+1]),b=_*(N=B[d+2]),y=_*(L=B[d+3]),f+=T*x,g+=T*w,m+=T*N,h+=T*L,P=k,s=0;s<_;s++)P.r=x,P.g=w,P.b=N,P.a=L,P=P.next;for(u=O,s=1;s<=e;s++)d=u+r<<2,f+=(P.r=x=B[d])*(M=_-s),g+=(P.g=w=B[d+1])*M,m+=(P.b=N=B[d+2])*M,h+=(P.a=L=B[d+3])*M,z+=x,C+=w,E+=N,A+=L,P=P.next,s<D&&(u+=O);for(d=r,q=k,F=S,i=0;i<W;i++)l=d<<2,B[l+3]=L=h*n>>a,L>0?(L=255/L,B[l]=(f*n>>a)*L,B[l+1]=(g*n>>a)*L,B[l+2]=(m*n>>a)*L):B[l]=B[l+1]=B[l+2]=0,f-=v,g-=p,m-=b,h-=y,v-=q.r,p-=q.g,b-=q.b,y-=q.a,l=r+((l=i+_)<D?l:D)*O<<2,f+=z+=q.r=B[l],g+=C+=q.g=B[l+1],m+=E+=q.b=B[l+2],h+=A+=q.a=B[l+3],q=q.next,v+=x=F.r,p+=w=F.g,b+=N=F.b,y+=L=F.a,z-=x,C-=w,E-=N,A-=L,F=F.next,d+=O}return t}function i(t,e,n,a,r,i,s,l){var u,d,c,f,g,m,h,v,p,b,y,z,C,E,A,x,w,N,L,M,S,B=t.getContext("2d"),O=B.getImageData(e,n,a,r),W=O.data,I=i+i+1,R=a-1,D=r-1,_=i+1,T=_*(_+1)/2,k=new o,P=k;for(c=1;c<I;c++)P=P.next=new o,c==_&&(S=P);P.next=k;var q=null,F=null;for(h=m=0,d=0;d<r;d++){for(E=A=x=v=p=b=0,y=_*(w=W[m]),z=_*(N=W[m+1]),C=_*(L=W[m+2]),v+=T*w,p+=T*N,b+=T*L,P=k,c=0;c<_;c++)P.r=w,P.g=N,P.b=L,P=P.next;for(c=1;c<_;c++)f=m+((R<c?R:c)<<2),v+=(P.r=w=W[f])*(M=_-c),p+=(P.g=N=W[f+1])*M,b+=(P.b=L=W[f+2])*M,E+=w,A+=N,x+=L,P=P.next;for(q=k,F=S,u=0;u<a;u++)W[m]=v*s>>l,W[m+1]=p*s>>l,W[m+2]=b*s>>l,v-=y,p-=z,b-=C,y-=q.r,z-=q.g,C-=q.b,f=h+((f=u+i+1)<R?f:R)<<2,E+=q.r=W[f],A+=q.g=W[f+1],x+=q.b=W[f+2],v+=E,p+=A,b+=x,q=q.next,y+=w=F.r,z+=N=F.g,C+=L=F.b,E-=w,A-=N,x-=L,F=F.next,m+=4;h+=a}for(u=0;u<a;u++){for(A=x=E=p=b=v=0,m=u<<2,y=_*(w=W[m]),z=_*(N=W[m+1]),C=_*(L=W[m+2]),v+=T*w,p+=T*N,b+=T*L,P=k,c=0;c<_;c++)P.r=w,P.g=N,P.b=L,P=P.next;for(g=a,c=1;c<=i;c++)m=g+u<<2,v+=(P.r=w=W[m])*(M=_-c),p+=(P.g=N=W[m+1])*M,b+=(P.b=L=W[m+2])*M,E+=w,A+=N,x+=L,P=P.next,c<D&&(g+=a);for(m=u,q=k,F=S,d=0;d<r;d++)f=m<<2,W[f]=v*s>>l,W[f+1]=p*s>>l,W[f+2]=b*s>>l,v-=y,p-=z,b-=C,y-=q.r,z-=q.g,C-=q.b,f=u+((f=d+_)<D?f:D)*a<<2,v+=E+=q.r=W[f],p+=A+=q.g=W[f+1],b+=x+=q.b=W[f+2],q=q.next,y+=w=F.r,z+=N=F.g,C+=L=F.b,E-=w,A-=N,x-=L,F=F.next,m+=a}B.putImageData(O,e,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.stackBlur={canvasRGB:i,canvasRGBA:a}}(window,document),function(t,e,n,a,r){"use strict";function i(t){"loading"!=e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t,e){var n;return function(){var a=arguments,r=this;if(!n)return t.apply(r,a),n=!0,setTimeout(function(){return n=!1},e)}}function l(t,e,n){if(n=n||!1,t.complete&&void 0!==t.naturalWidth&&0!==t.naturalWidth)e();else{var a=function(){this.removeEventListener("load",a),e()};if(t.addEventListener("load",a),n){var r=new Image;r.addEventListener("error",function(){n()}),r.src=t.src}}}function u(e,n){var a=t.devicePixelRatio||1,r=n.webkitBackingStorePixelRatio||1,i=a/r;if(a!==r){var o=e.width,s=e.height;e.width=o*i,e.height=s*i,n.scale(i,i)}return i}function d(t){var e=t.className.match(S);return!!e&&e[1]}function c(t){L(t,b)}function f(){function n(){for(var t,e,n,i=0,o=r.length;i<o;i++)r[i]&&(e=r[i],N(e,p)||(t=d(e))&&B[t]&&(n=B[t](e),"async"===a.placeholderRendering?w.add(n):n()))}var a=t.imagesetConfig=o({autoUpdate:!0,placeholderRendering:"async"},t.imagesetConfig||{}),r=e.getElementsByClassName(v),l=s(n);return e.addEventListener("lazybeforeunveil",function(t){var n=t.target,a=n.parentNode;if(N(n,y)){for(;!N(a,g);)a=a.parentNode;var r=function(){n.removeEventListener("load",r),x(function(){L(a,m)})},i=function(){n.removeEventListener("error",i),x(function(){var t=e.createElement("span");L(t,C),n.hasAttribute("alt")&&""!==n.alt&&(t.setAttribute("aria-hidden",!0),t.appendChild(e.createTextNode(n.alt))),a.appendChild(t),x(function(){L(a,h)})})};n.addEventListener("load",r),n.addEventListener("error",i)}}),a.autoUpdate?(t.MutationObserver?new t.MutationObserver(l).observe(E,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(E.addEventListener("DOMNodeInserted",l,!0),E.addEventListener("DOMAttrModified",l,!0),setInterval(l,999)),t.addEventListener("hashchange",l,!0),n()):i(n),{update:n}}if(e.getElementsByClassName){var g="imageset",m="is-loaded",h="has-error",v=g+" -placeholder",p="is-placeholder-rendered",b="has-placeholder-error",y=g+"-element",z=g+"-placeholder",C="imageset-error",E=e.documentElement,A=navigator.userAgent,x=t.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},w=function(){function t(t){a.push(t),n()}function e(){a.shift()(),a.length?x(e):r=!1}function n(){r||(r=!0,x(e))}var a=[],r=!1;return{add:t}}(),N=function(){return E.classList?function(t,e){return t.classList.contains(e)}:function(t,e){return!!~t.className.split(/\s+/).indexOf(e)}}(),L=function(){return E.classList?function(t,e){t.classList.add(e)}:function(t,e){var n=t.className.split(/\s+/);~n.indexOf(e)||(n.push(e),t.className=n.join(" "))}}();(function(){E.classList})();if("[object OperaMini]"===Object.prototype.toString.call(t.operamini)){t.lazySizesConfig=t.lazySizesConfig||{},t.lazySizesConfig.init=!1,L(E,"operamini");var M=function(e){var n=e.getElementsByTagName("source"),a=e.getElementsByClassName(y)[0];if(L(e,m),t.HTMLPictureElement){for(var r=0,i=n.length;r<i;r++){var o=n[r];o.hasAttribute("data-srcset")&&(o.srcset=o.getAttribute("data-srcset")),o.hasAttribute("data-src")&&(o.src=o.getAttribute("data-src"))}a.hasAttribute("data-srcset")&&(a.srcset=a.getAttribute("data-srcset")),a.hasAttribute("data-src")&&(a.src=a.getAttribute("data-src"))}else{for(var s=n.length>0?n[n.length-1]:a,l=s.getAttribute("data-srcset").split(/,\s+/);n.length>0;)n[0].parentNode.removeChild(n[0]);a.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void i(function(){for(var t=e.getElementsByClassName(g),n=0,a=t.length;n<a;n++)M(t[n])})}var S=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),B={};if(t.CanvasRenderingContext2D){var O=-1!==A.indexOf("Safari")&&-1===A.indexOf("Chrome");("imageRendering"in E.style||"msInterpolationMode"in E.style)&&!O||(B.mosaic=function(t){var n=e.createElement("canvas"),a=n.getContext("2d"),r=t.getElementsByClassName(z)[0],i=function(){u(n,a);var e=r.naturalWidth,i=r.naturalHeight,o=t.offsetWidth,s=t.offsetWidth/e*i+.5|0;n.width=o,n.height=s,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n.className=r.className,a.drawImage(r,0,0,o,s),r.parentNode.replaceChild(n,r),L(t,p)};return function(){l(r,i,function(){c(t)})}});var W=function(t,n,a,r){var i=t.getElementsByClassName(z)[0],o=function(){var o=i.naturalWidth,s=i.naturalHeight,l=t.offsetWidth,u=t.offsetWidth/o*s+.5|0,d=e.createElement("canvas"),c=d.getContext("2d"),f=N(t,"-alpha");d.width=l,d.height=u,!f&&"mozOpaque"in d&&(d.mozOpaque=!0),d.setAttribute("aria-hidden",!0),d.className=i.className,c.drawImage(i,0,0,l,u),stackBlur[f?"canvasRGBA":"canvasRGB"](d,0,0,l,u,n,a,r),i.parentNode.replaceChild(d,i),L(t,p)};return function(){l(i,o,function(){c(t)})}};B.blurred=function(t){return W(t,15,512,17)},B.lqip=function(t){return W(t,7,512,15)};var I=function(t,e,a){a=!!a;var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,s=i.width,l=i.height,d=s-1,c=l-1,f=n.round(e*(n.sqrt(3)/2)),g=f/2,m=e/2;u(t,r);var h,v,p,b,y,z,C,E,A,x,w,N,L,M,S,B,O,W=function(t,n,a,i){i=i||!1;var o=t+(i?0:f);r.beginPath(),r.moveTo(o,n+0),r.lineTo(t+(i?f:0),n+m),r.lineTo(o,n+e),r.fill(),r.closePath()},I=function(t,e){var n=e*s*4+4*t;return[o[n],o[n+1],o[n+2],o[n+3]]},R=function(t,e){return o[e*s*4+4*t+3]},D=function(t){for(var e=0,n=0,a=t.length;n<a;n++)e+=R(t[n][0],t[n][1]);return e/a},_=function(t){return"rgb("+t.slice(0,3).join(",")+")"},T=function(t){return t[3]/=255,"rgba("+t.join(",")+")"},k=function(t){return n.max(0,n.min(n.round(t),d))},P=function(t){return n.max(0,n.min(n.round(t),c))},q=n.ceil(s/f)+1,F=n.ceil(l/e)+1;if(a){for(v=0;v<F;v++)for(b=v*e,z=P(b+m),C=b-m,x=P(b),h=0;h<q;h++)p=h*f,M=h%2!=0,k(p),y=P(b),A=k(M?p+f-1:p),E=k(M?p:p+f-1),N=k(p+g),L=P(b+m),S=[[E,y],[A,L],[E,P(b+e-1)],[N,L],[N,L]],B=D(S)+.5|0,r.fillStyle=T([B,0,0,255]),r.fillRect(p,b,f,e),S=[[E,P(b-m)],[A,y],[E,P(b+m-1)],[N,y],[N,y]],B=D(S)+.5|0,r.fillStyle=T([B,0,0,255]),W(p,C,0,M);var H=r.getImageData(0,0,t.width,t.height),j=H.data,$=j.length;for(O=0;O<$;O+=4)j[O+3]=j[O];r.putImageData(H,0,0),r.globalCompositeOperation="source-atop"}for(v=0;v<F;v++)for(b=v*e,z=P(b+m),C=b-m,x=P(b),h=0;h<q;h++)p=h*f,w=k(p+g),M=h%2!=0,r.fillStyle=_(I(w,z)),r.fillRect(p,b,f,e),r.fillStyle=_(I(w,x)),W(p,C,0,M);a&&(r.globalCompositeOperation="source-over")};B.triangles=function(t){var a=t.getElementsByClassName(z)[0],r=function(){var r=a.naturalWidth,i=a.naturalHeight,o=t.offsetWidth,s=n.round(t.offsetWidth/r*i),l=e.createElement("canvas"),u=l.getContext("2d"),d=N(t,"-alpha");l.width=o,l.height=s,!d&&"mozOpaque"in l&&(l.mozOpaque=!0),l.setAttribute("aria-hidden",!0),l.className=a.className,u.drawImage(a,0,0,o,s),I(l,40,d),a.parentNode.replaceChild(l,a),L(t,p)};return function(){l(a,r,function(){c(t)})}}}var R=new f;t.imageset=R}}(window,document,Math,Date),function(t,e){var n=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",n,!0)};e=e.bind(null,t,t.document),"object"==typeof module&&module.exports?e(require("lazysizes")):t.lazySizes?n():t.addEventListener("lazyunveilread",n,!0)}(window,function(t,e,n){"use strict";var a,r,i,o;t.addEventListener&&(a=n&&n.cfg||t.lazySizesConfig||{},r=a.lazyClass||"lazyload",i=function(){var t,a;if("string"==typeof r&&(r=e.getElementsByClassName(r)),n)for(t=0,a=r.length;t<a;t++)n.loader.unveil(r[t])},addEventListener("beforeprint",i,!1),!("onbeforeprint"in t)&&t.matchMedia&&(o=matchMedia("print"))&&o.addListener&&o.addListener(function(){o.matches&&i()}))}),function(t,e){var n=function(t,e){"use strict";if(e.getElementsByClassName){var n,a,r=e.documentElement,i=t.Date,o=t.HTMLPictureElement,s=t.addEventListener,l=t.setTimeout,u=t.requestAnimationFrame||l,d=t.requestIdleCallback,c=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g={},m=Array.prototype.forEach,h=function(t,e){return g[e]||(g[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),g[e].test(t.getAttribute("class")||"")&&g[e]},v=function(t,e){h(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},p=function(t,e){var n;(n=h(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},b=function(t,e,n){var a=n?"addEventListener":"removeEventListener";n&&b(t,e),f.forEach(function(n){t[a](n,e)})},y=function(t,a,r,i,o){var s=e.createEvent("CustomEvent");return r||(r={}),r.instance=n,s.initCustomEvent(a,!i,!o,r),t.dispatchEvent(s),s},z=function(e,n){var r;!o&&(r=t.picturefill||a.pf)?r({reevaluate:!0,elements:[e]}):n&&n.src&&(e.src=n.src)},C=function(t,e){return(getComputedStyle(t,null)||{})[e]},E=function(t,e,n){for(n=n||t.offsetWidth;n<a.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},A=function(){var t,n,a=[],r=[],i=a,o=function(){var e=i;for(i=a.length?r:a,t=!0,n=!1;e.length;)e.shift()();t=!1},s=function(a,r){t&&!r?a.apply(this,arguments):(i.push(a),n||(n=!0,(e.hidden?l:u)(o)))};return s._lsFlush=o,s}(),x=function(t,e){return e?function(){A(t)}:function(){var e=this,n=arguments;A(function(){t.apply(e,n)})}},w=function(t){var e,n=0,a=666,r=function(){e=!1,n=i.now(),t()},o=d?function(){d(r,{timeout:a}),666!==a&&(a=666)}:x(function(){l(r)},!0);return function(t){var r;(t=!0===t)&&(a=44),e||(e=!0,r=125-(i.now()-n),r<0&&(r=0),t||r<9&&d?o():l(o,r))}},N=function(t){var e,n,a=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?l(r,99-t):(d||a)(a)};return function(){n=i.now(),e||(e=l(r,99))}},L=function(){var o,u,d,f,g,E,L,S,B,O,W,I,R,D,_=/^img$/i,T=/^iframe$/i,k="onscroll"in t&&!/glebot/.test(navigator.userAgent),P=0,q=0,F=-1,H=function(t){q--,t&&t.target&&b(t.target,H),(!t||q<0||!t.target)&&(q=0)},j=function(t,n){var a,i=t,o="hidden"==C(e.body,"visibility")||"hidden"!=C(t,"visibility");for(S-=n,W+=n,B-=n,O+=n;o&&(i=i.offsetParent)&&i!=e.body&&i!=r;)(o=(C(i,"opacity")||1)>0)&&"visible"!=C(i,"overflow")&&(a=i.getBoundingClientRect(),o=O>a.left&&B<a.right&&W>a.top-1&&S<a.bottom+1);return o},$=function(){var t,i,s,l,d,c,g,m,h,v=n.elements;if((f=a.loadMode)&&q<8&&(t=v.length)){i=0,F++,null==R&&("expand"in a||(a.expand=r.clientHeight>500&&r.clientWidth>500?500:370),I=a.expand,R=I*a.expFactor),P<R&&q<1&&F>2&&f>2&&!e.hidden?(P=R,F=0):P=f>1&&F>1&&q<6?I:0;for(;i<t;i++)if(v[i]&&!v[i]._lazyRace)if(k)if((m=v[i].getAttribute("data-expand"))&&(c=1*m)||(c=P),h!==c&&(E=innerWidth+c*D,L=innerHeight+c,g=-1*c,h=c),s=v[i].getBoundingClientRect(),(W=s.bottom)>=g&&(S=s.top)<=L&&(O=s.right)>=g*D&&(B=s.left)<=E&&(W||O||B||S)&&(a.loadHidden||"hidden"!=C(v[i],"visibility"))&&(u&&q<3&&!m&&(f<3||F<4)||j(v[i],c))){if(Y(v[i]),d=!0,q>9)break}else!d&&u&&!l&&q<4&&F<4&&f>2&&(o[0]||a.preloadAfterLoad)&&(o[0]||!m&&(W||O||B||S||"auto"!=v[i].getAttribute(a.sizesAttr)))&&(l=o[0]||v[i]);else Y(v[i]);l&&!d&&Y(l)}},G=w($),U=function(t){v(t.target,a.loadedClass),p(t.target,a.loadingClass),b(t.target,K),y(t.target,"lazyloaded")},J=x(U),K=function(t){J({target:t.target})},Q=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},V=function(t){var e,n=t.getAttribute(a.srcsetAttr);(e=a.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},X=x(function(t,e,n,r,i){var o,s,u,f,g,h;(g=y(t,"lazybeforeunveil",e)).defaultPrevented||(r&&(n?v(t,a.autosizesClass):t.setAttribute("sizes",r)),s=t.getAttribute(a.srcsetAttr),o=t.getAttribute(a.srcAttr),i&&(u=t.parentNode,f=u&&c.test(u.nodeName||"")),h=e.firesLoad||"src"in t&&(s||o||f),g={target:t},h&&(b(t,H,!0),clearTimeout(d),d=l(H,2500),v(t,a.loadingClass),b(t,K,!0)),f&&m.call(u.getElementsByTagName("source"),V),s?t.setAttribute("srcset",s):o&&!f&&(T.test(t.nodeName)?Q(t,o):t.src=o),i&&(s||f)&&z(t,{src:o})),t._lazyRace&&delete t._lazyRace,p(t,a.lazyClass),A(function(){(!h||t.complete&&t.naturalWidth>1)&&(h?H(g):q--,U(g))},!0)}),Y=function(t){var e,n=_.test(t.nodeName),r=n&&(t.getAttribute(a.sizesAttr)||t.getAttribute("sizes")),i="auto"==r;(!i&&u||!n||!t.getAttribute("src")&&!t.srcset||t.complete||h(t,a.errorClass))&&(e=y(t,"lazyunveilread").detail,i&&M.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,X(t,e,i,r,n))},Z=function(){if(!u){if(i.now()-g<999)return void l(Z,999);var t=N(function(){a.loadMode=3,G()});u=!0,a.loadMode=3,G(),s("scroll",function(){3==a.loadMode&&(a.loadMode=2),t()},!0)}};return{_:function(){g=i.now(),n.elements=e.getElementsByClassName(a.lazyClass),o=e.getElementsByClassName(a.lazyClass+" "+a.preloadClass),D=a.hFac,s("scroll",G,!0),s("resize",G,!0),t.MutationObserver?new MutationObserver(G).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r.addEventListener("DOMNodeInserted",G,!0),r.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),s("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,G,!0)}),/d$|^c/.test(e.readyState)?Z():(s("load",Z),e.addEventListener("DOMContentLoaded",G),l(Z,2e4)),n.elements.length?($(),A._lsFlush()):G()},checkElems:G,unveil:Y}}(),M=function(){var t,n=x(function(t,e,n,a){var r,i,o;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),c.test(e.nodeName||""))for(r=e.getElementsByTagName("source"),i=0,o=r.length;i<o;i++)r[i].setAttribute("sizes",a);n.detail.dataAttr||z(t,n.detail)}),r=function(t,e,a){var r,i=t.parentNode;i&&(a=E(t,i,a),r=y(t,"lazybeforesizes",{width:a,dataAttr:!!e}),r.defaultPrevented||(a=r.detail.width)&&a!==t._lazysizesWidth&&n(t,i,r,a))},i=function(){var e,n=t.length;if(n)for(e=0;e<n;e++)r(t[e])},o=N(i);return{_:function(){t=e.getElementsByClassName(a.autosizesClass),s("resize",o)},checkElems:o,updateElem:r}}(),S=function(){S.i||(S.i=!0,M._(),L._())};return function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};a=t.lazySizesConfig||t.lazysizesConfig||{};for(e in n)e in a||(a[e]=n[e]);t.lazySizesConfig=a,l(function(){a.init&&S()})}(),n={cfg:a,autoSizer:M,loader:L,init:S,uP:z,aC:v,rC:p,hC:h,fire:y,gW:E,rAF:A}}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);